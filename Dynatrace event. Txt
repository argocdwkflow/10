

Parfait ğŸ‘
Je te propose la suite logique, clÃ© en main, sans attendre :
âœ… A. RÃˆGLE DYNATRACE â€“ RAM (anti-spam, production ready)
ğŸ¯ Principe
La RAM â€œhauteâ€ seule nâ€™est pas un incident (cache Linux).
On alerte seulement si pression mÃ©moire rÃ©elle et durable.
ğŸ”¹ Condition recommandÃ©e (Host)
Copy code

Memory used (%) > 90
AND Available memory (%) < 10
AND Swap used (%) > 5
FOR 20 minutes
ğŸ”¹ Pourquoi ces conditions
Memory used % : visibilitÃ©
Available memory % : vraie pression (exclut cache)
Swap used % : preuve dâ€™impact
DurÃ©e : Ã©limine pics courts
â¡ï¸ RÃ©sultat : fini les incidents RAM Ã  cause du cache.
âœ… B. CLIC-PAR-CLIC DANS DYNAtrace (CPU + RAM)
1ï¸âƒ£ CrÃ©er la rÃ¨gle CPU
Settings â†’ Anomaly detection â†’ Metric events â†’ Create metric event
Metric : Host CPU usage
Condition :
CPU > 90 %
AND Load (5 min) > vCPU
Alert after : 20 minutes
Entity : Host
Severity : Resource
Event title : Host CPU saturation (real)
2ï¸âƒ£ CrÃ©er la rÃ¨gle RAM
MÃªme Ã©cran â†’ Create metric event
Metrics :
Memory used %
Available memory %
Swap used %
Alert after : 20 minutes
Event title : Host memory pressure (real)
âœ… C. ALERTING PROFILE (qui reÃ§oit quoi)
Settings â†’ Alerting â†’ Alerting profiles
ğŸ”´ PROD-CRITICAL
Inclure :
CPU saturation (real)
Memory pressure (real)
Canaux :
Pager (on-call)
ServiceNow (OPEN / RESOLVED)
ğŸŸ¡ PROD-WARNING (optionnel)
CPU > 80 % (10â€“15 min)
Teams uniquement
âŒ Pas de ticket
âœ… D. RÃˆGLE Dâ€™OR ServiceNow (anti-spam)
1 Problem Dynatrace = 1 Incident ServiceNow
âŒ Pas de ticket sur alerte mÃ©trique simple
âœ”ï¸ Ticket crÃ©Ã© uniquement Ã  lâ€™OPEN du Problem
âœ”ï¸ Fermeture auto au RESOLVED
âœ… E. MESSAGE FINAL Ã€ ENVOYER (validation officielle)
DÃ©cision â€“ Alertes CPU & RAM
Nous passons dâ€™alertes basÃ©es sur des seuils simples Ã  une logique Dynatrace orientÃ©e Problem.
CPU : CPU Ã©levÃ© ET load > vCPU ET durÃ©e â‰¥ 20 min.
RAM : pression mÃ©moire rÃ©elle (available faible + swap) ET durÃ©e â‰¥ 20 min.
Objectif : rÃ©duire les incidents inutiles liÃ©s aux pics lÃ©gitimes (find, gzip, batch, YARN) et se concentrer sur les vrais problÃ¨mes infra.
ğŸ“Œ RÃ‰CAP EXPRESS
CPU seul âŒ â†’ CPU + load + durÃ©e âœ…
RAM seule âŒ â†’ pression mÃ©moire rÃ©elle + durÃ©e âœ…
Metrics = symptÃ´me | Events = explication
1 Problem = 1 ticket
ğŸ‘‰ Prochaine Ã©tape (dis-moi â€œouiâ€ Ã  lâ€™option) : 1ï¸âƒ£ Je te fournis les noms exacts des mÃ©triques Dynatrace (copier-coller)
2ï¸âƒ£ Je prÃ©pare une slide unique â€œavant / aprÃ¨sâ€ pour comitÃ©
3ï¸âƒ£ On adapte spÃ©cifiquement Hadoop / YARN (seuils dÃ©diÃ©s)
Tu choisis ğŸ‘Œ


Parfait ğŸ‘
Voici ce que tu peux utiliser directement dans Dynatrace, avec les noms EXACTS des mÃ©triques (copier-coller), + une explication simple Ã  donner Ã  lâ€™Ã©quipe.
âœ… 1. MÃ‰TRIQUES DYNATRACE â€“ NOMS EXACTS
ğŸŸ  CPU
ğŸ”¹ CPU usage (%)
Metric key
Copy code

builtin:host.cpu.usage
ğŸ‘‰ Pourcentage dâ€™utilisation CPU globale du host.
ğŸ”¹ Load average (5 minutes)
Metric key
Copy code

builtin:host.load.5m
ğŸ‘‰ Nombre moyen de processus en attente / en cours sur 5 minutes.
ğŸ”¹ Nombre de vCPU
Metric key
Copy code

builtin:host.cpu.cores
ğŸ‘‰ CapacitÃ© rÃ©elle du serveur (CPU logiques).
ğŸŸ¢ MÃ‰MOIRE (RAM)
ğŸ”¹ MÃ©moire utilisÃ©e (%)
Copy code

builtin:host.mem.usedPct
âš ï¸ Inclut le cache Linux â†’ ne jamais lâ€™utiliser seule.
ğŸ”¹ MÃ©moire disponible (%)
Copy code

builtin:host.mem.availablePct
ğŸ‘‰ Indicateur clÃ© de pression mÃ©moire rÃ©elle.
ğŸ”¹ Swap utilisÃ©e (%)
Copy code

builtin:host.swap.usedPct
ğŸ‘‰ Si > 0 de faÃ§on persistante â†’ impact rÃ©el.
âœ… 2. RÃˆGLES DYNATRACE EXACTES (PRODUCTION)
ğŸ”´ CPU â€“ Saturation rÃ©elle (RECOMMANDÃ‰E)
Metric event
Copy code

builtin:host.cpu.usage > 90
AND builtin:host.load.5m > builtin:host.cpu.cores
FOR 20 minutes
InterprÃ©tation simple
Le CPU est trÃ¨s utilisÃ© et
il y a plus de demandes que de CPU disponibles et
la situation dure â†’ incident rÃ©el
ğŸ”´ RAM â€“ Pression mÃ©moire rÃ©elle
Metric event
Copy code

builtin:host.mem.usedPct > 90
AND builtin:host.mem.availablePct < 10
AND builtin:host.swap.usedPct > 5
FOR 20 minutes
InterprÃ©tation simple
La mÃ©moire est pleine,
il nâ€™y a presque plus de mÃ©moire disponible,
et le systÃ¨me swap â†’ impact rÃ©el
âœ… 3. CE QUE TU PEUX DIRE Ã€ Lâ€™Ã‰QUIPE (trÃ¨s important)
Phrase courte (stand-up)
Â« CPU ou RAM seuls ne suffisent pas.
On alerte uniquement quand la demande dÃ©passe la capacitÃ©,
et que la situation dure. Â»
Phrase claire (N2 / N3)
Â« load > vCPU signifie que le serveur a plus de processus Ã  exÃ©cuter que de CPU disponibles.
Câ€™est la vraie saturation, pas juste un pic. Â»
âœ… 4. POURQUOI Ã‡A RÃˆGLE LE PROBLÃˆME VU (find / gzip / YARN)
Cas
Ancienne rÃ¨gle
Nouvelle rÃ¨gle
find / gzip
âŒ Incident
âœ… IgnorÃ©
Batch court
âŒ Incident
âœ… IgnorÃ©
Jobs parallÃ¨les longs
âŒ Bruit
âœ… 1 vrai Problem
Infra dÃ©gradÃ©e
âŒ NoyÃ©e
âœ… Visible
âœ… 5. RÃˆGLE Dâ€™OR Ã€ VALIDER OFFICIELLEMENT
Un ticket ServiceNow ne doit Ãªtre crÃ©Ã©
que sur un PROBLEM Dynatrace,
pas sur une mÃ©trique brute.
ğŸ“Œ RÃ‰CAP ULTRA-COURT
CPU â†’ builtin:host.cpu.usage
Load â†’ builtin:host.load.5m
vCPU â†’ builtin:host.cpu.cores
RAM â†’ availablePct + swap
Temps = anti-spam
1 Problem = 1 action
ğŸ‘‰ Prochaine Ã©tape possible (dis â€œOK + numÃ©roâ€) : 1ï¸âƒ£ Slide unique â€œAVANT / APRÃˆSâ€ pour comitÃ©
2ï¸âƒ£ RÃ¨gles spÃ©cifiques Hadoop / YARN (seuils adaptÃ©s)
3ï¸âƒ£ Validation officielle + wording ServiceNow
Tu choisis ğŸ‘Œ
